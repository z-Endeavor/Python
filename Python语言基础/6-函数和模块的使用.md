## 函数和模块的使用

在讲解本章节的内容之前，我们先来研究一道数学题，请说出下面的方程有多少组正整数解。

$$x_1 + x_2 + x_3 + x_4 = 8$$

事实上，上面的问题等同于将8个苹果分成四组每组至少一个苹果有多少种方案。想到这一点问题的答案就呼之欲
出了。

$$C_M^N =\frac{M!}{N!(M-N)!}, \text{(M=7, N=3)} $$


    """
	输入M和N计算C(M,N)
	"""
	m = int(input('m = '))
	n = int(input('n = '))
	fm = 1
	for num in range(1, m + 1):
	    fm *= num
	fn = 1
	for num in range(1, n + 1):
	    fn *= num
	fm_n = 1
	for num in range(1, m - n + 1):
	    fm_n *= num
	print(fm // fn // fm_n)

### 函数的作用

不知道大家是否注意到，在上面的代码中，我们做了3次求阶乘，这样的代码实际上就是重复代码。编程大师_Martin Fowler_先生曾经说过：“**代码有很多种坏味道，重复是最坏的一种！**”，要写出高质量的代码首先要解决的就是重复代码的问题。对于上面的代码来说，我们可以将计算阶乘的功能封装到一个称之为“函数”的功能模块中，在需要计算阶乘的地方，我们只需要“调用”这个“函数”就可以了。


### 定义函数

在Python中可以使用`def`关键字来定义函数，和变量一样每个函数也有一个响亮的名字，而且命名规则跟变量的命名规则是一致的。在函数名后面的圆括号中可以放置传递给函数的参数，这一点和数学上的函数非常相似，程序中函数的参数就相当于是数学上说的函数的自变量，而函数执行完成后我们可以通过`return`关键字来返回一个值，这相当于数学上说的函数的因变量。

    """
	输入M和N计算C(M,N)
	"""
	def fac(num)
		"""求阶乘"""
		for i in range(1, num + 1):
			result *= i
		return result
	m = int(input('m = '))
	n = int(input('n = '))
	# 当需要计算阶乘的时候不用再写循环求阶乘而是直接调用已经定义好的函数
	print('fac(m) // fac(n) // fac(m - n)')

### 函数的参数

函数是绝大多数编程语言中都支持的一个代码的"构建块"，但是Python中的函数与其他语言中的函数还是有很多不太相同的地方，其中一个显著的区别就是Python对函数参数的处理。在Python中，函数的参数可以有默认值，也支持使用可变参数，所以Python并不需要像其他语言一样支持函数的重载，因为我们在定义一个函数的时候可以让它有多种不同的使用方式，下面是两个小例子。

    from random import randint

	def roll_dice(n=2):
	    """摇色子"""
	    total = 0
	    for _ in range(n):
	        total += randint(1, 6)
	    return total

	def add(a=0, b=0, c=0):
	    """三个数相加"""
	    return a + b + c

	# 如果没有指定参数那么使用默认值摇两颗色子
	print(roll_dice())
	# 摇三颗色子
	print(roll_dice(3))
	print(add())
	print(add(1))
	print(add(1, 2))
	print(add(1, 2, 3))
	# 传递参数时可以不按照设定的顺序进行传递
	print(add(c=50, a=100, b=200))

我们给上面两个函数的参数都设定了默认值，这也就意味着如果在调用函数的时候如果没有传入对应参数的值时将使用该参数的默认值，所以在上面的代码中我们可以用各种不同的方式去调用`add`函数，这跟其他很多语言中函数重载的效果是一致的。

其实上面的`add`函数还有更好的实现方案，因为我们可能会对0个或多个参数进行加法运算，而具体有多少个参数是由调用者来决定，我们作为函数的设计者对这一点是一无所知的，因此在不确定参数个数的时候，我们可以使用可变参数，代码如下所示。

    # 在参数名前面的*表示args是一个可变参数
	def add(*args):
	    total = 0
		for val in args:
	        total += val
	    return total

	# 在调用add函数时可以传入0个或多个参数
	print(add())
	print(add(1))
	print(add(1, 2))
	print(add(1, 2, 3))
	print(add(1, 3, 5, 7, 9))

